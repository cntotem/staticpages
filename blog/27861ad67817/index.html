<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="ä¹å¤©å›¾è…¾,åšå®¢"><meta name="description" content="ä¹å¤©å›¾è…¾ä¸ªäººåšå®¢"><meta name="author" content="ä¹å¤©å›¾è…¾"><title>ç½‘ç»œåè®®ä¹‹ ICMP | ä¹å¤©å›¾è…¾</title><link rel="stylesheet" href="../css/style.css"><link rel="shortcut icon" href="../images/logo.svg"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/css/font-awesome.min.css"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"blog.yusei.zone",root:"/",language:"zh-CN",path:"search.xml"},KEEP.theme_config={toc:{enable:!0,number:!1,expand_all:!1,init_open:!1},style:{primary_color:"#0066CC",avatar:"/images/avatar.jpeg",favicon:"/images/logo.svg",article_img_align:"center",left_side_width:"260px",content_max_width:"920px",hover:{shadow:!0,scale:!0},first_screen:{enable:!0,background_img:"/images/bg.svg",description:"æ‰€è°“å“è¶Šï¼Œå¹¶éæŒ‡è¡Œä¸ºï¼Œè€Œæ˜¯ä¹ æƒ¯ã€‚"},scroll:{progress_bar:{enable:!0},percent:{enable:!0}}},local_search:{enable:!0,preload:!0},code_copy:{enable:!0,style:"default"},pjax:{enable:!1},lazyload:{enable:!1},version:"3.4.3"},KEEP.language_ago={second:"%s ç§’å‰",minute:"%s åˆ†é’Ÿå‰",hour:"%s å°æ—¶å‰",day:"%s å¤©å‰",week:"%s å‘¨å‰",month:"%s æœˆå‰",year:"%s å¹´å‰"}</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="atom.xml" title="ä¹å¤©å›¾è…¾" type="application/atom+xml">
</head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-title" href="/">ä¹å¤©å›¾è…¾</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="../index.html">é¦–é¡µ</a></li><li class="menu-item"><a href="../archives">å½’æ¡£</a></li><li class="menu-item"><a href="../links">å‹é“¾</a></li><li class="menu-item"><a href="../about">å…³äº</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="../index.html">é¦–é¡µ</a></li><li class="drawer-menu-item flex-center"><a href="../archives">å½’æ¡£</a></li><li class="drawer-menu-item flex-center"><a href="../links">å‹é“¾</a></li><li class="drawer-menu-item flex-center"><a href="../about">å…³äº</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">ç½‘ç»œåè®®ä¹‹ ICMP</span></div><div class="article-header"><div class="avatar"><img src="../images/avatar.jpeg"></div><div class="info"><div class="author"><span class="name">ä¹å¤©å›¾è…¾</span> <span class="author-label">åŒ–å¢ƒæœŸ</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fas fa-edit"></i>&nbsp;2014-07-02 20:54:00 </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="../categories/%E7%BD%91%E7%BB%9C/">ç½‘ç»œ</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="../tags/%E7%BD%91%E7%BB%9C/">ç½‘ç»œ</a>&nbsp;</li><li>| <a href="../tags/%E9%80%9A%E4%BF%A1/">é€šä¿¡</a>&nbsp;</li><li>| <a href="../tags/%E5%8D%8F%E8%AE%AE/">åè®®</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fas fa-file-word"></i>&nbsp;<span>1.4k å­—</span> </span><span class="article-min2read article-meta-item"><i class="fas fa-clock"></i>&nbsp;<span>6 åˆ†é’Ÿ</span> </span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body"><h1 id="ç½‘ç»œåè®®ä¹‹-ICMP"><a href="#ç½‘ç»œåè®®ä¹‹-ICMP" class="headerlink" title="ç½‘ç»œåè®®ä¹‹ ICMP"></a>ç½‘ç»œåè®®ä¹‹ ICMP</h1><blockquote><p>ğŸ“¦ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ<a class="link" target="_blank" rel="noopener" href="https://github.com/dunwu/blog">blog<i class="fas fa-external-link-alt"></i></a>ã€</p></blockquote><ul><li><a href="#icmp-%E7%AE%80%E4%BB%8B">ICMP ç®€ä»‹</a></li><li><a href="#icmp-%E7%B1%BB%E5%9E%8B">ICMP ç±»å‹</a></li><li><a href="#%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%8F%AF%E8%BE%BEdestination-unreachable-message">ç›®çš„ä¸å¯è¾¾(Destination Unreachable Message)</a></li><li><a href="#%E8%B6%85%E6%97%B6time-exceeded-message">è¶…æ—¶(Time Exceeded Message)</a></li><li><a href="#%E5%8F%82%E6%95%B0%E9%94%99%E8%AF%AF%E6%8A%A5%E6%96%87parameter-problem-message">å‚æ•°é”™è¯¯æŠ¥æ–‡(Parameter Problem Message)</a></li><li><a href="#%E6%BA%90%E5%86%B7%E5%8D%B4source-quench-message">æºå†·å´(Source Quench Message)</a></li><li><a href="#%E9%87%8D%E5%AE%9A%E5%90%91redirect-message">é‡å®šå‘(Redirect Message)</a></li><li><a href="#%E8%AF%B7%E6%B1%82%E5%9B%9E%E6%98%BE%E6%88%96%E5%9B%9E%E6%98%BE%E5%BA%94%E7%AD%94echo-or-echo-reply-message">è¯·æ±‚å›æ˜¾æˆ–å›æ˜¾åº”ç­”(Echo or Echo Reply Message)</a></li><li><a href="#%E6%97%B6%E9%97%B4%E6%88%B3%E6%88%96%E6%97%B6%E9%97%B4%E6%88%B3%E8%AF%B7%E6%B1%82timestamp-or-timestamp-reply-message">æ—¶é—´æˆ³æˆ–æ—¶é—´æˆ³è¯·æ±‚(Timestamp or Timestamp Reply Message)</a></li><li><a href="#%E4%BF%A1%E6%81%AF%E8%AF%B7%E6%B1%82%E6%88%96%E4%BF%A1%E6%81%AF%E5%93%8D%E5%BA%94">ä¿¡æ¯è¯·æ±‚æˆ–ä¿¡æ¯å“åº”</a></li><li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li><li><a href="#%E5%8F%82%E8%80%83">å‚è€ƒ</a></li></ul><h2 id="ICMP-ç®€ä»‹"><a href="#ICMP-ç®€ä»‹" class="headerlink" title="ICMP ç®€ä»‹"></a>ICMP ç®€ä»‹</h2><p>ICMP å…¨åä¸º(INTERNET CONTROL MESSAGE PROTOCOL)ç½‘ç»œæ§åˆ¶æ¶ˆæ¯åè®®ã€‚</p><p>ICMP çš„åè®®å·ä¸º<strong>1</strong>ã€‚</p><p>ICMP æŠ¥æ–‡å°±åƒæ˜¯ IP æŠ¥æ–‡çš„å°å¼Ÿï¼Œæ€»é¡¶ç€ IP æŠ¥æ–‡çš„åå¤´å‡ºæ¥æ··ã€‚å› ä¸º ICMP æŠ¥æ–‡æ˜¯åœ¨ IP æŠ¥æ–‡å†…éƒ¨çš„ï¼Œå¦‚å›¾ï¼š</p><div align="center"><img src="https://images2015.cnblogs.com/blog/318837/201606/318837-20160617091834260-1410966672.png"></div><h2 id="ICMP-ç±»å‹"><a href="#ICMP-ç±»å‹" class="headerlink" title="ICMP ç±»å‹"></a>ICMP ç±»å‹</h2><p>ICMP æŠ¥æ–‡ä¸»è¦æœ‰ä¸¤å¤§åŠŸèƒ½ï¼šæŸ¥è¯¢æŠ¥æ–‡å’Œå·®é”™æŠ¥æ–‡ã€‚</p><h2 id="ç›®çš„ä¸å¯è¾¾-Destination-Unreachable-Message"><a href="#ç›®çš„ä¸å¯è¾¾-Destination-Unreachable-Message" class="headerlink" title="ç›®çš„ä¸å¯è¾¾(Destination Unreachable Message)"></a>ç›®çš„ä¸å¯è¾¾(Destination Unreachable Message)</h2><p>0 1 2 3</p><p>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Type | Code | Checksum |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| unused |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Internet Header + 64 bits of Original Data Datagram |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œé‚®å¯„åŒ…è£¹ä¼šç»è¿‡å¤šä¸ªä¼ é€’ç¯èŠ‚ï¼Œä»»æ„ä¸€ç¯å¦‚æœæ— æ³•ä¼ ä¸‹å»ï¼Œéƒ½ä¼šè¿”å›å¯„ä»¶äººï¼Œå¹¶é™„ä¸Šæ— æ³•é‚®å¯„çš„åŸå› ã€‚åŒç†ï¼Œå½“è·¯ç”±å™¨æ”¶åˆ°ä¸€ä¸ªæ— æ³•ä¼ é€’ä¸‹å»çš„ IP æŠ¥æ–‡æ—¶ï¼Œä¼šå‘é€ ICMP<strong>ç›®çš„ä¸å¯è¾¾æŠ¥æ–‡</strong>ï¼ˆType ä¸º 3ï¼‰ç»™ IP æŠ¥æ–‡çš„æºå‘é€æ–¹ã€‚æŠ¥æ–‡ä¸­çš„ Code å°±è¡¨ç¤ºå‘é€å¤±è´¥çš„åŸå› ã€‚</p><p>Code</p><p>0 = net unreachable;</p><p>1 = host unreachable;</p><p>2 = protocol unreachable;</p><p>3 = port unreachable;</p><p>4 = fragmentation needed and DF set;</p><p>5 = source route failed.</p><h2 id="è¶…æ—¶-Time-Exceeded-Message"><a href="#è¶…æ—¶-Time-Exceeded-Message" class="headerlink" title="è¶…æ—¶(Time Exceeded Message)"></a>è¶…æ—¶(Time Exceeded Message)</h2><p>0 1 2 3</p><p>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Type | Code | Checksum |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| unused |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Internet Header + 64 bits of Original Data Datagram |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>ç½‘ç»œä¼ è¾“ IP æ•°æ®æŠ¥çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ IP æ•°æ®åŒ…çš„ TTL å€¼é€æ¸é€’å‡ä¸º 0 æ—¶ï¼Œéœ€è¦ä¸¢å¼ƒæ•°æ®æŠ¥ã€‚è¿™æ—¶ï¼Œè·¯ç”±å™¨éœ€è¦å‘æºå‘é€æ–¹å‘é€ <strong>ICMP è¶…æ—¶æŠ¥æ–‡</strong>(Type ä¸º 11)ï¼ŒCode ä¸º 0ï¼Œè¡¨ç¤ºä¼ è¾“è¿‡ç¨‹ä¸­è¶…æ—¶äº†ã€‚</p><p>ä¸€ä¸ª IP æ•°æ®æŠ¥å¯èƒ½ä¼šå› ä¸ºè¿‡å¤§è€Œè¢«åˆ†ç‰‡ï¼Œç„¶ååœ¨ç›®çš„ä¸»æœºä¾§æŠŠæ‰€æœ‰çš„åˆ†ç‰‡é‡ç»„ã€‚å¦‚æœä¸»æœºè¿Ÿè¿Ÿæ²¡æœ‰ç­‰åˆ°æ‰€æœ‰çš„åˆ†ç‰‡æŠ¥æ–‡ï¼Œå°±ä¼šå‘æºå‘é€æ–¹å‘é€ä¸€ä¸ª ICMP è¶…æ—¶æŠ¥æ–‡ï¼ŒCode ä¸º 1ï¼Œè¡¨ç¤ºåˆ†ç‰‡é‡ç»„è¶…æ—¶äº†ã€‚</p><h2 id="å‚æ•°é”™è¯¯æŠ¥æ–‡-Parameter-Problem-Message"><a href="#å‚æ•°é”™è¯¯æŠ¥æ–‡-Parameter-Problem-Message" class="headerlink" title="å‚æ•°é”™è¯¯æŠ¥æ–‡(Parameter Problem Message)"></a>å‚æ•°é”™è¯¯æŠ¥æ–‡(Parameter Problem Message)</h2><p>0 1 2 3</p><p>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Type | Code | Checksum |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Pointer | unused |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Internet Header + 64 bits of Original Data Datagram |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>å½“è·¯ç”±å™¨æˆ–ä¸»æœºå¤„ç†æ•°æ®æŠ¥æ—¶ï¼Œå‘ç°å› ä¸ºæŠ¥æ–‡å¤´çš„å‚æ•°é”™è¯¯è€Œä¸å¾—ä¸ä¸¢å¼ƒæŠ¥æ–‡æ—¶ï¼Œéœ€è¦å‘æºå‘é€æ–¹å‘é€<strong>å‚æ•°é”™è¯¯æŠ¥æ–‡</strong>(Type ä¸º 12)ã€‚å½“ Code ä¸º 0 æ—¶ï¼ŒæŠ¥æ–‡ä¸­çš„ Pointer è¡¨ç¤ºé”™è¯¯çš„å­—èŠ‚ä½ç½®ã€‚</p><h2 id="æºå†·å´-Source-Quench-Message"><a href="#æºå†·å´-Source-Quench-Message" class="headerlink" title="æºå†·å´(Source Quench Message)"></a>æºå†·å´(Source Quench Message)</h2><p>0 1 2 3</p><p>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Type | Code | Checksum |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| unused |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Internet Header + 64 bits of Original Data Datagram |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>è·¯ç”±å™¨åœ¨å¤„ç†æŠ¥æ–‡æ—¶ä¼šæœ‰ä¸€ä¸ªç¼“å­˜é˜Ÿåˆ—ã€‚å¦‚æœè¶…è¿‡æœ€å¤§ç¼“å­˜é˜Ÿåˆ—ï¼Œå°†æ— æ³•å¤„ç†ï¼Œä»è€Œä¸¢å¼ƒæŠ¥æ–‡ã€‚å¹¶å‘æºå‘é€æ–¹å‘ä¸€ä¸ª <strong>ICMP æºå†·å´æŠ¥æ–‡</strong>(Type ä¸º 4)ï¼Œå‘Šè¯‰å¯¹æ–¹ï¼šâ€œå˜¿ï¼Œæˆ‘è¿™é‡Œå®¢æ»¡äº†ï¼Œä½ è¿Ÿç‚¹å†æ¥ã€‚â€</p><h2 id="é‡å®šå‘-Redirect-Message"><a href="#é‡å®šå‘-Redirect-Message" class="headerlink" title="é‡å®šå‘(Redirect Message)"></a>é‡å®šå‘(Redirect Message)</h2><p>0 1 2 3</p><p>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Type | Code | Checksum |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Gateway Internet Address |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Internet Header + 64 bits of Original Data Datagram |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>æƒ³åƒä¸€ä¸‹ï¼Œåœ¨å…¬å¸ä¸­ï¼Œæœ‰äººæ¥ä½ çš„é¡¹ç›®ç»„é—®ä½ æŸæŸæŸåœ¨å“ªå„¿ã€‚ä½ ä¸€æƒ³ï¼Œæˆ‘ä»¬ç»„æ²¡æœ‰è¿™äººå•Šã€‚ä½ è‚¯å®šå°±ä¼šè¯´ï¼Œæˆ‘ä»¬ç»„æ²¡æœ‰è¿™å·äººï¼Œä½ å»å…¶ä»–ç»„çœ‹çœ‹ã€‚å½“è·¯ç”±æ”¶åˆ° IP æ•°æ®æŠ¥ï¼Œå‘ç°æ•°æ®æŠ¥çš„ç›®çš„åœ°å€åœ¨è·¯ç”±è¡¨ä¸Šæ²¡æœ‰ï¼Œå®ƒå°±ä¼šå‘ <strong>ICMP é‡å®šå‘æŠ¥æ–‡</strong>(Type ä¸º 5)ç»™æºå‘é€æ–¹ï¼Œæé†’å®ƒæƒ³è¦å‘é€çš„åœ°å€ä¸åœ¨ï¼Œå»å…¶ä»–åœ°æ–¹æ‰¾æ‰¾å§ã€‚</p><h2 id="è¯·æ±‚å›æ˜¾æˆ–å›æ˜¾åº”ç­”-Echo-or-Echo-Reply-Message"><a href="#è¯·æ±‚å›æ˜¾æˆ–å›æ˜¾åº”ç­”-Echo-or-Echo-Reply-Message" class="headerlink" title="è¯·æ±‚å›æ˜¾æˆ–å›æ˜¾åº”ç­”(Echo or Echo Reply Message)"></a>è¯·æ±‚å›æ˜¾æˆ–å›æ˜¾åº”ç­”(Echo or Echo Reply Message)</h2><p>0 1 2 3</p><p>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Type | Code | Checksum |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Identifier | Sequence Number |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Data â€¦</p><p>+-+-+-+-+-</p><p>**Type(8)<strong>æ˜¯</strong>è¯·æ±‚å›æ˜¾æŠ¥æ–‡(Echo)<strong>ï¼›Type(0)æ˜¯</strong>å›æ˜¾åº”ç­”æŠ¥æ–‡(Echo Reply)**ã€‚</p><p>è¯·æ±‚å›æ˜¾æˆ–å›æ˜¾åº”ç­”æŠ¥æ–‡å±äºæŸ¥è¯¢æŠ¥æ–‡ã€‚Ping å°±æ˜¯ç”¨è¿™ç§æŠ¥æ–‡è¿›è¡ŒæŸ¥è¯¢å’Œå›åº”ã€‚</p><h2 id="æ—¶é—´æˆ³æˆ–æ—¶é—´æˆ³è¯·æ±‚-Timestamp-or-Timestamp-Reply-Message"><a href="#æ—¶é—´æˆ³æˆ–æ—¶é—´æˆ³è¯·æ±‚-Timestamp-or-Timestamp-Reply-Message" class="headerlink" title="æ—¶é—´æˆ³æˆ–æ—¶é—´æˆ³è¯·æ±‚(Timestamp or Timestamp Reply Message)"></a>æ—¶é—´æˆ³æˆ–æ—¶é—´æˆ³è¯·æ±‚(Timestamp or Timestamp Reply Message)</h2><p>0 1 2 3</p><p>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Type | Code | Checksum |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Identifier | Sequence Number |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Originate Timestamp |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Receive Timestamp |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Transmit Timestamp |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>æ—¶é—´æˆ³æŠ¥æ–‡æ˜¯ç”¨æ¥è®°å½•æ”¶å‘ä»¥åŠä¼ è¾“æ—¶é—´çš„æŠ¥æ–‡ã€‚Originate Timestamp è®°å½•çš„æ˜¯å‘é€æ–¹å‘é€æŠ¥æ–‡çš„æ—¶åˆ»ï¼›<strong>Receive Timestamp</strong>è®°å½•çš„æ˜¯æ¥æ”¶æ–¹æ”¶åˆ°æŠ¥æ–‡çš„æ—¶åˆ»ï¼›<strong>Transmit Timestamp</strong>è¡¨ç¤ºå›æ˜¾è¿™æœ€åå‘é€æŠ¥æ–‡çš„æ—¶åˆ»ã€‚</p><h2 id="ä¿¡æ¯è¯·æ±‚æˆ–ä¿¡æ¯å“åº”"><a href="#ä¿¡æ¯è¯·æ±‚æˆ–ä¿¡æ¯å“åº”" class="headerlink" title="ä¿¡æ¯è¯·æ±‚æˆ–ä¿¡æ¯å“åº”"></a>ä¿¡æ¯è¯·æ±‚æˆ–ä¿¡æ¯å“åº”</h2><p>0 1 2 3</p><p>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Type | Code | Checksum |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>| Identifier | Sequence Number |</p><p>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p><p>è¿™ç§æŠ¥æ–‡æ˜¯ç”¨æ¥æ‰¾å‡ºä¸€ä¸ªä¸»æœºæ‰€åœ¨çš„ç½‘ç»œä¸ªæ•°ï¼ˆä¸€ä¸ªä¸»æœºå¯èƒ½ä¼šåœ¨å¤šä¸ªç½‘ç»œä¸­ï¼‰ã€‚æŠ¥æ–‡çš„ IP æ¶ˆæ¯å¤´çš„ç›®çš„åœ°å€ä¼šå¡«ä¸ºå…¨ 0ï¼Œè¡¨ç¤º thisï¼Œæºåœ°å€ä¼šå¡«ä¸ºæº IP æ‰€åœ¨çš„ç½‘ç»œ IPã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><strong>å›¾ï¼šICMP çŸ¥è¯†ç‚¹æ€ç»´å¯¼å›¾</strong></p><div align="center"><img src="https://images2015.cnblogs.com/blog/318837/201606/318837-20160617091835838-1982473379.png"></div><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a class="link" target="_blank" rel="noopener" href="http://www.rfc-editor.org/info/rfc792">RFC792<i class="fas fa-external-link-alt"></i></a></li></ul></div><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="../c6e7a7daf074/"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">ç½‘ç»œåè®®ä¹‹ HTTP</span> <span class="post-nav-item">ä¸Šä¸€ç¯‡</span></span></a></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2021</span>&nbsp;-&nbsp; 2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">ä¹å¤©å›¾è…¾</a></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item"><span id="busuanzi_container_site_uv">è®¿é—®äººæ•°&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; </span><span id="busuanzi_container_site_pv">æ€»è®¿é—®é‡&nbsp;<span id="busuanzi_value_site_pv"></span></span></div><div class="theme-info info-item">ç”± <a target="_blank" href="https://hexo.io">Hexo</a> é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item page-aside-toggle"><i class="fas fa-outdent"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-expand-width flex-center"><i class="fas fa-arrows-alt-h"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><aside class="page-aside"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E4%B9%8B-ICMP"><span class="nav-text">ç½‘ç»œåè®®ä¹‹ ICMP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ICMP-%E7%AE%80%E4%BB%8B"><span class="nav-text">ICMP ç®€ä»‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ICMP-%E7%B1%BB%E5%9E%8B"><span class="nav-text">ICMP ç±»å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%8F%AF%E8%BE%BE-Destination-Unreachable-Message"><span class="nav-text">ç›®çš„ä¸å¯è¾¾(Destination Unreachable Message)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B6%85%E6%97%B6-Time-Exceeded-Message"><span class="nav-text">è¶…æ—¶(Time Exceeded Message)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E9%94%99%E8%AF%AF%E6%8A%A5%E6%96%87-Parameter-Problem-Message"><span class="nav-text">å‚æ•°é”™è¯¯æŠ¥æ–‡(Parameter Problem Message)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%BA%90%E5%86%B7%E5%8D%B4-Source-Quench-Message"><span class="nav-text">æºå†·å´(Source Quench Message)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91-Redirect-Message"><span class="nav-text">é‡å®šå‘(Redirect Message)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%9B%9E%E6%98%BE%E6%88%96%E5%9B%9E%E6%98%BE%E5%BA%94%E7%AD%94-Echo-or-Echo-Reply-Message"><span class="nav-text">è¯·æ±‚å›æ˜¾æˆ–å›æ˜¾åº”ç­”(Echo or Echo Reply Message)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E6%88%B3%E6%88%96%E6%97%B6%E9%97%B4%E6%88%B3%E8%AF%B7%E6%B1%82-Timestamp-or-Timestamp-Reply-Message"><span class="nav-text">æ—¶é—´æˆ³æˆ–æ—¶é—´æˆ³è¯·æ±‚(Timestamp or Timestamp Reply Message)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%A1%E6%81%AF%E8%AF%B7%E6%B1%82%E6%88%96%E4%BF%A1%E6%81%AF%E5%93%8D%E5%BA%94"><span class="nav-text">ä¿¡æ¯è¯·æ±‚æˆ–ä¿¡æ¯å“åº”</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">æ€»ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">å‚è€ƒ</span></a></li></ol></li></ol></div></div></aside><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="æœç´¢..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/dark-light-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/local-search.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/code-copy.js"></script><div class="post-scripts"><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/toc.js"></script></div></body></html>